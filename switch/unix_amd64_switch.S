// generated by cultio/switch/generate.py
// Architecture: AMD64
// Platform: Unix

.code64
.intel_syntax noprefix

.global switch
.text

switch:
    sub rsp, 48
    movq QWORD PTR [rsp+0x0], r12
    movq QWORD PTR [rsp+0x8], r13
    movq QWORD PTR [rsp+0x10], r14
    movq QWORD PTR [rsp+0x18], r15
    movq QWORD PTR [rsp+0x20], rbx
    movq QWORD PTR [rsp+0x28], rbp

    movq QWORD PTR [rdi], rsp
    movq rsp, QWORD PTR [rsi]

    movq r12, QWORD PTR [rsp+0x30]
    movq r13, QWORD PTR [rsp+0x38]
    movq r14, QWORD PTR [rsp+0x40]
    movq r15, QWORD PTR [rsp+0x48]
    movq rbx, QWORD PTR [rsp+0x50]
    movq rbp, QWORD PTR [rsp+0x58]
    add rsp, 48

    popq rcx
    jmpq QWORD PTR [rcx]
